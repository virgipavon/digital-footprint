<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Vida Digital - Juego Interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 min-h-screen">
    <div id="app"></div>

    <script>
        // Estado del juego
        let state = {
            currentScene: 0,
            scores: {
                reputation: 50,
                privacy: 50,
                security: 50,
                relationships: 50
            },
            choices: [],
            showResult: false,
            showFeedback: false
        };

        // Escenarios del juego
        const scenarios = [
            {
                id: 1,
                title: "üì± Nueva Red Social",
                situation: "Acabas de descargar TrendUp, la app que todos usan. Te pide permisos de contactos, ubicaci√≥n en tiempo real, acceso a fotos y micr√≥fono. Tu mejor amigo ya est√° dentro y dice que es incre√≠ble.",
                image: "ü§≥",
                options: [
                    {
                        text: "Acepto todos los permisos. Si millones de personas lo usan, debe ser seguro",
                        meme: "ü§™",
                        feedback: "El argumento de 'todo el mundo lo hace' no valida nada. Millones de personas tambi√©n comparten sus contrase√±as o caen en estafas. La app ahora puede rastrear cada movimiento, ver todas tus fotos y escucharte en cualquier momento. Tus datos se vender√°n a anunciantes.",
                        impact: { privacy: -25, security: -20, reputation: -5, relationships: 5 }
                    },
                    {
                        text: "Leo la pol√≠tica de privacidad y acepto solo contactos y fotos",
                        meme: "ü§î",
                        feedback: "Parece prudente leer la pol√≠tica, pero... ¬øla entendiste realmente? Son 47 p√°ginas de jerga legal. Y aun as√≠, diste acceso a contactos (privacidad de otros) y fotos (pueden contener info personal). La app puede crear un perfil completo de tu vida social.",
                        impact: { privacy: -5, security: 0, reputation: 5, relationships: 5 }
                    },
                    {
                        text: "Solo acepto lo m√≠nimo indispensable y reviso los permisos despu√©s",
                        meme: "üòé",
                        feedback: "¬°Smart! Muchas apps funcionan perfectamente con permisos m√≠nimos. Revisar despu√©s te permite ajustar seg√∫n tu experiencia real. Proteges tu privacidad sin aislarte. Bonus: la app consume menos bater√≠a con menos permisos activos.",
                        impact: { privacy: 20, security: 20, reputation: 10, relationships: 0 }
                    }
                ]
            },
            {
                id: 2,
                title: "üîê Email de la Universidad",
                situation: "Vas a crear tu email para solicitar plaza en la universidad. Es la cuenta que ver√°n profesores, administraci√≥n y posibles empleadores cuando busquen pr√°cticas. ¬øQu√© direcci√≥n eliges?",
                image: "üìß",
                options: [
                    {
                        text: "nombre.apellido@email.com - claro y profesional",
                        meme: "üëî",
                        feedback: "Parece lo correcto, pero expones tu identidad completa. Cualquiera puede googlear tu nombre completo y encontrar TODO sobre ti: redes sociales, fotos antiguas, comentarios en foros. Es f√°cil para reclutadores, pero tambi√©n para acosadores. Sin privacidad.",
                        impact: { privacy: -15, security: -5, reputation: 15, relationships: 5 }
                    },
                    {
                        text: "nombre_apellido2003@email.com - incluyo mi a√±o de nacimiento",
                        meme: "üìÖ",
                        feedback: "Grave error. Acabas de regalar un dato que se usa para robar identidad y recuperar contrase√±as. Los hackers buscan fechas de nacimiento. Adem√°s, cuando tengas 30 a√±os, ese '2003' en tu email profesional te har√° parecer menos serio. Piensa a largo plazo.",
                        impact: { privacy: -20, security: -25, reputation: -10, relationships: 0 }
                    },
                    {
                        text: "n.apellido.universidad@email.com - inicial y contexto",
                        meme: "üéØ",
                        feedback: "Equilibrio inteligente. La inicial dificulta el rastreo (hay cientos con tu apellido), el contexto 'universidad' lo mantiene profesional y organizado. Proteges privacidad sin perder profesionalismo. En el futuro puedes crear variantes para trabajo.",
                        impact: { privacy: 20, security: 15, reputation: 20, relationships: 5 }
                    }
                ]
            },
            {
                id: 3,
                title: "üì∏ Noche de Fiesta",
                situation: "Es la fiesta de fin de curso. Tu mejor amigo sube un √°lbum de 30 fotos de la noche a Instagram. En varias sales t√∫ en situaciones un poco... comprometedoras. Ya tiene 200 likes en 20 minutos.",
                image: "üéâ",
                options: [
                    {
                        text: "Le comento: 'jajaja √©pica la noche! üî•' para quedar bien",
                        meme: "üòÖ",
                        feedback: "Acabas de confirmar p√∫blicamente que eres t√∫. Ahora Instagram te vincular√° autom√°ticamente, esas fotos aparecer√°n en b√∫squedas de tu nombre, y los algoritmos las indexar√°n para siempre. Los reclutadores de empresas revisan esto. Mal move.",
                        impact: { reputation: -20, privacy: -15, relationships: 5 }
                    },
                    {
                        text: "Le escribo por privado pidi√©ndole que quite las peores fotos",
                        meme: "üí¨",
                        feedback: "Comunicaci√≥n directa parece correcto... pero las fotos ya llevan 20 minutos online. 200 personas las vieron, algunas las guardaron o hicieron capturas. Aunque las quite ahora, ya es tarde. La lecci√≥n: evita situaciones que no quieres documentadas.",
                        impact: { reputation: 5, relationships: 10, privacy: -5, security: 0 }
                    },
                    {
                        text: "Solicito que me desetiquete de todas sin dar explicaciones",
                        meme: "üö´",
                        feedback: "Smart move. Aunque las fotos siguen en su perfil, no estar√°n vinculadas al tuyo. Los buscadores no te relacionar√°n con ellas. Tu amigo puede molestarse, pero tu futuro profesional vale m√°s. Proteger tu huella digital es prioridad.",
                        impact: { reputation: 15, privacy: 20, relationships: -10, security: 10 }
                    }
                ]
            },
            {
                id: 4,
                title: "üí¨ Match Interesante",
                situation: "Alguien muy atractivo te hace match en una app de citas. Despu√©s de charlar 30 minutos tienen buena qu√≠mica. Te dice: 'Odio esta app, se me cuelga. ¬øSeguimos en WhatsApp? Mi n√∫mero es 666-XXX-XXX. ¬øEl tuyo?'",
                image: "üíò",
                options: [
                    {
                        text: "Le paso mi n√∫mero. Ya hemos hablado media hora, parece confiable",
                        meme: "üì±",
                        feedback: "Media hora no es suficiente para conocer a alguien. Tu n√∫mero es la llave a WhatsApp, Telegram, rastreo de ubicaci√≥n, y una vez compartido no lo controlas. ¬øY si vende n√∫meros? ¬øY si es un acosador? Necesitas m√°s tiempo.",
                        impact: { privacy: -25, security: -25, relationships: 10, reputation: -5 }
                    },
                    {
                        text: "Le digo: 'Prefiero Instagram, a√±√°deme: @mi_usuario'",
                        meme: "üì∏",
                        feedback: "Cambias una app por otra... pero Instagram muestra toda tu vida: amigos, lugares, rutinas. Es casi peor que el n√∫mero. Si resulta ser raro/a, ahora sabe d√≥nde estudias, con qui√©n sales, qu√© haces. Piensa en las consecuencias.",
                        impact: { privacy: -15, security: -15, relationships: 10, reputation: -5 }
                    },
                    {
                        text: "Sugiero seguir en la app unos d√≠as m√°s antes de compartir datos",
                        meme: "üõ°Ô∏è",
                        feedback: "¬°Inteligente! Si realmente le interesas, esperar√°. Si desaparece, esquivaste una bala. Muchos estafadores usan esta t√°ctica: crear urgencia para obtener datos r√°pido. Tu instinto de protecci√≥n funciona bien.",
                        impact: { privacy: 20, security: 25, relationships: -5, reputation: 15 }
                    }
                ]
            },
            {
                id: 5,
                title: "üéÆ Drama en el Servidor",
                situation: "En tu servidor de Discord favorito, varios usuarios est√°n atacando a un chico nuevo. Lo critican porque tiene un acento diferente y han empezado a hacer memes. Algunos son tus amigos. El ambiente se est√° poniendo heavy.",
                image: "üò¢",
                options: [
                    {
                        text: "Me r√≠o pero no participo activamente en el acoso",
                        meme: "üò¨",
                        feedback: "Re√≠rte es participar. Le est√°s dando validaci√≥n social a los acosadores. Tu risa les dice 'esto est√° bien, sigue'. Aunque no escribiste nada, tu presencia silenciosa apoya el acoso. El chico ve que nadie lo defiende. Complicidad pasiva.",
                        impact: { reputation: -25, relationships: -20, security: -10 }
                    },
                    {
                        text: "Salgo del chat sin decir nada. No es mi problema",
                        meme: "üôà",
                        feedback: "Al menos no participaste... pero tampoco ayudaste. Esa persona sigue siendo acosada mientras t√∫ desapareces. A veces el silencio es casi tan malo como participar. Podr√≠as haber marcado la diferencia con una sola palabra de apoyo.",
                        impact: { reputation: -10, relationships: -15, privacy: 5 }
                    },
                    {
                        text: "Escribo: 'Esto se est√° pasando de la raya' y reporto a los mods",
                        meme: "ü¶∏",
                        feedback: "¬°Valent√≠a! Puede que algunos se burlen de ti por 'arruinar la diversi√≥n', pero acabas de salvar a alguien. Los mods actuar√°n, los acosadores ser√°n baneados, y el chico recordar√° que alguien lo defendi√≥. Tu reputaci√≥n REAL sube enormemente.",
                        impact: { reputation: 30, relationships: 15, security: 10 }
                    }
                ]
            },
            {
                id: 6,
                title: "üìç Viaje de Verano",
                situation: "¬°Te vas 10 d√≠as a Bali! Tienes 1800 seguidores y quieres compartir la experiencia. Tus padres est√°n preocupados por la seguridad de la casa vac√≠a. ¬øC√≥mo compartes tu viaje?",
                image: "‚úàÔ∏è",
                options: [
                    {
                        text: "Stories diarias etiquetando cada lugar: 'D√≠a 3 en Ubud! üå¥'",
                        meme: "üì±",
                        feedback: "Creaste un mapa completo de tu ausencia. Tus 1800 seguidores (y sus contactos) saben que tu casa est√° vac√≠a exactamente 10 d√≠as. Los ladrones buscan esto activamente. Adem√°s, las fotos tienen metadatos de ubicaci√≥n. Muy arriesgado.",
                        impact: { security: -30, privacy: -25, reputation: 5, relationships: 10 }
                    },
                    {
                        text: "Subo fotos sin ubicaci√≥n pero escribo 'De viaje! ‚òÄÔ∏è'",
                        meme: "üì∏",
                        feedback: "Mejor, pero sigues anunciando tu ausencia. La gente puede deducir cu√°nto tiempo estar√°s fuera por tus publicaciones. Y aunque quites la ubicaci√≥n, el fondo de las fotos puede identificar exactamente d√≥nde est√°s. No es suficiente protecci√≥n.",
                        impact: { security: -15, privacy: -10, reputation: 5, relationships: 10 }
                    },
                    {
                        text: "Hago fotos pero las publico todas juntas cuando vuelvo a casa",
                        meme: "üéØ",
                        feedback: "Jugada maestra. Disfrutas sin anunciar tu ausencia, compartes despu√©s los momentos, y tu casa estuvo segura. Bonus: viviste el viaje sin estar pendiente de likes. La gente igualmente disfruta viendo tu viaje 'en diferido'.",
                        impact: { security: 25, privacy: 20, reputation: 15, relationships: 5 }
                    }
                ]
            },
            {
                id: 7,
                title: "üíº Oportunidad Laboral",
                situation: "Email de 'TechFuture Inc': 'Hola! Vimos tu LinkedIn y nos interesa tu perfil. Ofrecemos 1200‚Ç¨/mes, trabajo remoto 4h/d√≠a. Solo necesitas hacer un curso de formaci√≥n de 45‚Ç¨. Miles de j√≥venes ya trabajan con nosotros. Plazas limitadas!'",
                image: "üí∞",
                options: [
                    {
                        text: "Busco 'TechFuture Inc opiniones' en Google antes de decidir",
                        meme: "üîç",
                        feedback: "Buen instinto, pero las estafas buenas tienen rese√±as falsas compradas. Encuentras comentarios positivos que parecen reales. Lo correcto es verificar: registro mercantil, p√°gina web profesional, direcci√≥n f√≠sica real. Buscar opiniones no es suficiente.",
                        impact: { security: 5, privacy: -5, reputation: 5 }
                    },
                    {
                        text: "Les respondo pidiendo m√°s detalles sobre la empresa y el trabajo",
                        meme: "üí¨",
                        feedback: "Parece prudente, pero al responder confirmaste que tu email est√° activo. Te llegar√°n m√°s estafas similares. Si fuera una oferta real, tendr√≠an web profesional con toda la info. Las empresas serias no piden dinero por adelantado NUNCA.",
                        impact: { security: -10, privacy: -15, reputation: 0 }
                    },
                    {
                        text: "Lo elimino y reporto como spam. Si piden dinero, es estafa",
                        meme: "üõ°Ô∏è",
                        feedback: "¬°Correcto! Regla de oro: empresas reales NUNCA piden dinero para contratarte. Los 45‚Ç¨ son solo el principio, luego pedir√°n m√°s. Reportar ayuda a proteger a otros. Tu radar de estafas funciona perfectamente. Stay safe.",
                        impact: { security: 25, privacy: 15, reputation: 15 }
                    }
                ]
            },
            {
                id: 8,
                title: "üîì WiFi en Cafeter√≠a",
                situation: "Est√°s en una cafeter√≠a esperando a un amigo. Ves dos redes WiFi: 'CafeLibre_WiFi' (abierta) y 'CafeLibre_Clientes' (con contrase√±a en la pizarra). Necesitas revisar tu cuenta del banco urgentemente.",
                image: "‚òï",
                options: [
                    {
                        text: "Me conecto a 'CafeLibre_WiFi' que es abierta y m√°s r√°pida",
                        meme: "‚ö°",
                        feedback: "PELIGRO. Las redes abiertas son trampas para hackers. Cualquiera puede interceptar tu conexi√≥n y robar tus credenciales bancarias. Los ciberdelincuentes crean WiFis falsos con nombres similares espec√≠ficamente para esto. Nunca uses banca en WiFi p√∫blico abierto.",
                        impact: { security: -40, privacy: -35, reputation: -10 }
                    },
                    {
                        text: "Uso la red con contrase√±a 'CafeLibre_Clientes' que parece m√°s segura",
                        meme: "üîë",
                        feedback: "Mejor que la abierta, pero... la contrase√±a est√° en una pizarra visible para todos. No es realmente privada. Sigues expuesto a ataques. Tus datos bancarios no deber√≠an viajar por ninguna red p√∫blica, con o sin contrase√±a.",
                        impact: { security: -20, privacy: -15, reputation: -5 }
                    },
                    {
                        text: "Uso mis datos m√≥viles 4G para el banco. La seguridad no tiene precio",
                        meme: "üì±",
                        feedback: "Decisi√≥n inteligente. Tu conexi√≥n 4G/5G es personal y cifrada. Vale m√°s que unos MB de datos. Las redes p√∫blicas son para√≠so de hackers. Si DEBES usar WiFi p√∫blico para algo sensible, m√≠nimo usa VPN. Pero lo mejor es evitarlo.",
                        impact: { security: 30, privacy: 25, reputation: 15 }
                    }
                ]
            }
        ];

        // Funciones auxiliares
        function getScoreColor(score) {
            if (score >= 70) return 'text-green-600';
            if (score >= 40) return 'text-yellow-600';
            return 'text-red-600';
        }

        function getFinalMessage() {
            const avgScore = (state.scores.reputation + state.scores.privacy + state.scores.security + state.scores.relationships) / 4;
            
            if (avgScore >= 70) {
                return {
                    title: "üèÜ ¬°LEYENDA DIGITAL!",
                    message: "Eres un crack de la huella digital. Sabes proteger tu privacidad, seguridad y reputaci√≥n sin caer en trampas obvias. ¬°Sigue as√≠ y ense√±a a otros!",
                    emoji: "üî•"
                };
            } else if (avgScore >= 50) {
                return {
                    title: "üëç Buen Trabajo",
                    message: "Vas por buen camino pero cometiste algunos errores t√≠picos. Revisa tus decisiones, aprende de los fallos y ser√°s un pro.",
                    emoji: "üí™"
                };
            } else if (avgScore >= 30) {
                return {
                    title: "‚ö†Ô∏è Zona de Peligro",
                    message: "Tu huella digital est√° en riesgo serio. Necesitas ser mucho m√°s consciente de tus decisiones online. Cada click cuenta.",
                    emoji: "üò¨"
                };
            } else {
                return {
                    title: "üö® ALERTA M√ÅXIMA",
                    message: "Houston, tenemos un problema. Tu huella digital es un desastre total. ¬°Necesitas repensar TODAS tus acciones online antes de que sea tarde!",
                    emoji: "üò±"
                };
            }
        }

        // Manejadores de eventos
        function handleChoice(optionIndex) {
            const scenario = scenarios[state.currentScene];
            const option = scenario.options[optionIndex];
            
            // Actualizar scores
            Object.keys(option.impact).forEach(key => {
                state.scores[key] = Math.max(0, Math.min(100, state.scores[key] + option.impact[key]));
            });
            
            // Guardar elecci√≥n
            state.choices.push({
                scenario: scenario.title,
                choice: option.text,
                meme: option.meme,
                feedback: option.feedback
            });
            
            // Mostrar feedback
            state.showFeedback = true;
            render();
        }

        function handleContinue() {
            state.showFeedback = false;
            if (state.currentScene < scenarios.length - 1) {
                state.currentScene++;
            } else {
                state.showResult = true;
            }
            render();
        }

        function resetGame() {
            state = {
                currentScene: 0,
                scores: {
                    reputation: 50,
                    privacy: 50,
                    security: 50,
                    relationships: 50
                },
                choices: [],
                showResult: false,
                showFeedback: false
            };
            render();
        }

        function shareResults() {
            const finalMsg = getFinalMessage();
            const avgScore = Math.round((state.scores.reputation + state.scores.privacy + state.scores.security + state.scores.relationships) / 4);
            
            const shareText = `üéÆ Tu Vida Digital - Mi Resultado üéÆ

${finalMsg.emoji} ${finalMsg.title}

üìä Puntuaci√≥n Total: ${avgScore}%

üõ°Ô∏è Seguridad: ${state.scores.security}%
üîí Privacidad: ${state.scores.privacy}%
üèÜ Reputaci√≥n: ${state.scores.reputation}%
üë• Relaciones: ${state.scores.relationships}%

¬°Pon a prueba tu huella digital! üî•`;

            // Intentar compartir usando Web Share API (m√≥viles)
            if (navigator.share) {
                navigator.share({
                    title: 'Tu Vida Digital - Mi Resultado',
                    text: shareText,
                    url: window.location.href
                }).catch(err => {
                    // Si falla, copiar al portapapeles
                    copyToClipboard(shareText);
                });
            } else {
                // En desktop, copiar al portapapeles
                copyToClipboard(shareText);
            }
        }

        function copyToClipboard(text) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('‚úÖ ¬°Resultado copiado al portapapeles! P√©galo donde quieras compartirlo.');
                }).catch(() => {
                    showShareText(text);
                });
            } else {
                showShareText(text);
            }
        }

        function showShareText(text) {
            // Crear modal con el texto
            const modal = document.createElement('div');
            modal.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 9999; padding: 20px;">
                    <div style="background: white; padding: 30px; border-radius: 20px; max-width: 500px; width: 100%;">
                        <h3 style="font-size: 24px; font-weight: bold; margin-bottom: 15px; text-align: center;">üì∏ Tu Resultado</h3>
                        <textarea readonly style="width: 100%; height: 300px; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-family: monospace; font-size: 14px; resize: none;">${text}</textarea>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button onclick="this.parentElement.parentElement.parentElement.remove()" style="flex: 1; background: linear-gradient(to right, #10b981, #3b82f6); color: white; padding: 12px; border-radius: 10px; font-weight: bold; border: none; cursor: pointer;">
                                ‚úÖ Cerrar
                            </button>
                        </div>
                        <p style="text-align: center; color: #6b7280; font-size: 14px; margin-top: 10px;">Copia el texto y comp√°rtelo donde quieras üöÄ</p>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Funci√≥n de renderizado
        function render() {
            const app = document.getElementById('app');
            
            if (state.showResult) {
                app.innerHTML = renderResults();
            } else {
                app.innerHTML = renderGame();
            }
        }

        function renderResults() {
            const finalMsg = getFinalMessage();
            return `
                <div class="min-h-screen p-4 md:p-8">
                    <div class="max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl p-8 fade-in">
                        <div class="text-center mb-8">
                            <div class="text-8xl mb-4">${finalMsg.emoji}</div>
                            <h1 class="text-4xl font-bold text-gray-800 mb-2">${finalMsg.title}</h1>
                            <p class="text-xl text-gray-600">${finalMsg.message}</p>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-xl text-center">
                                <div class="text-3xl mb-2">üõ°Ô∏è</div>
                                <div class="text-sm text-gray-600">Seguridad</div>
                                <div class="text-2xl font-bold ${getScoreColor(state.scores.security)}">
                                    ${state.scores.security}%
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-xl text-center">
                                <div class="text-3xl mb-2">üîí</div>
                                <div class="text-sm text-gray-600">Privacidad</div>
                                <div class="text-2xl font-bold ${getScoreColor(state.scores.privacy)}">
                                    ${state.scores.privacy}%
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-xl text-center">
                                <div class="text-3xl mb-2">üèÜ</div>
                                <div class="text-sm text-gray-600">Reputaci√≥n</div>
                                <div class="text-2xl font-bold ${getScoreColor(state.scores.reputation)}">
                                    ${state.scores.reputation}%
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-pink-100 to-pink-200 p-4 rounded-xl text-center">
                                <div class="text-3xl mb-2">üë•</div>
                                <div class="text-sm text-gray-600">Relaciones</div>
                                <div class="text-2xl font-bold ${getScoreColor(state.scores.relationships)}">
                                    ${state.scores.relationships}%
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-xl p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4 text-gray-800">üìã Resumen de tus decisiones:</h3>
                            <div class="space-y-3 max-h-96 overflow-y-auto">
                                ${state.choices.map(choice => `
                                    <div class="bg-white p-4 rounded-lg shadow">
                                        <div class="flex items-start gap-3">
                                            <div class="text-3xl">${choice.meme}</div>
                                            <div class="flex-1">
                                                <div class="font-semibold text-gray-800">${choice.scenario}</div>
                                                <div class="text-sm text-gray-600 mt-1">${choice.choice}</div>
                                                <div class="text-sm text-gray-500 mt-2 italic">${choice.feedback}</div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl p-6 text-center">
                            <h3 class="text-2xl font-bold mb-3">üéØ Recuerda:</h3>
                            <ul class="text-left space-y-2 max-w-2xl mx-auto">
                                <li>‚úÖ Tu huella digital es permanente</li>
                                <li>‚úÖ Piensa antes de publicar</li>
                                <li>‚úÖ Protege tu privacidad y contrase√±as</li>
                                <li>‚úÖ No participes en ciberacoso</li>
                                <li>‚úÖ Pide ayuda si te sientes acosado/a</li>
                                <li>‚úÖ Si es gratis, T√ö eres el producto</li>
                            </ul>
                        </div>

                        <div class="flex flex-col md:flex-row gap-4 mt-6">
                            <button
                                onclick="shareResults()"
                                class="flex-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">
                                üì∏ Compartir mi Resultado
                            </button>
                            <button
                                onclick="resetGame()"
                                class="flex-1 bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">
                                üîÑ Jugar de Nuevo
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderGame() {
            const scenario = scenarios[state.currentScene];
            
            if (!state.showFeedback) {
                return `
                    <div class="min-h-screen p-4 md:p-8">
                        <div class="max-w-4xl mx-auto">
                            <!-- Header con scores -->
                            <div class="bg-white rounded-2xl shadow-xl p-4 mb-6 fade-in">
                                <div class="flex justify-between items-center gap-2 flex-wrap">
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üõ°Ô∏è</span>
                                        <div class="text-xs text-gray-600">Seguridad</div>
                                        <div class="font-bold ${getScoreColor(state.scores.security)}">${state.scores.security}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üîí</span>
                                        <div class="text-xs text-gray-600">Privacidad</div>
                                        <div class="font-bold ${getScoreColor(state.scores.privacy)}">${state.scores.privacy}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üèÜ</span>
                                        <div class="text-xs text-gray-600">Reputaci√≥n</div>
                                        <div class="font-bold ${getScoreColor(state.scores.reputation)}">${state.scores.reputation}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üë•</span>
                                        <div class="text-xs text-gray-600">Relaciones</div>
                                        <div class="font-bold ${getScoreColor(state.scores.relationships)}">${state.scores.relationships}%</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Escenario actual -->
                            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                                <div class="text-center mb-6">
                                    <div class="text-sm text-gray-500 mb-2">
                                        Escenario ${state.currentScene + 1} de ${scenarios.length}
                                    </div>
                                    <div class="text-6xl mb-4">${scenario.image}</div>
                                    <h2 class="text-3xl font-bold text-gray-800 mb-4">${scenario.title}</h2>
                                    <p class="text-lg text-gray-600">${scenario.situation}</p>
                                </div>

                                <div class="space-y-4">
                                    ${scenario.options.map((option, idx) => `
                                        <button
                                            onclick="handleChoice(${idx})"
                                            class="w-full p-6 rounded-xl text-left transition-all transform hover:scale-105 hover:shadow-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white">
                                            <div class="flex items-center gap-4">
                                                <div class="text-4xl">${option.meme}</div>
                                                <div class="flex-1 font-semibold text-lg">${option.text}</div>
                                            </div>
                                        </button>
                                    `).join('')}
                                </div>

                                <div class="mt-6 text-center text-gray-500 text-sm">
                                    üí° Piensa bien antes de elegir... ¬°tus decisiones tienen consecuencias!
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                // Mostrar feedback
                const lastChoice = state.choices[state.choices.length - 1];
                return `
                    <div class="min-h-screen p-4 md:p-8">
                        <div class="max-w-4xl mx-auto">
                            <!-- Header con scores -->
                            <div class="bg-white rounded-2xl shadow-xl p-4 mb-6 fade-in">
                                <div class="flex justify-between items-center gap-2 flex-wrap">
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üõ°Ô∏è</span>
                                        <div class="text-xs text-gray-600">Seguridad</div>
                                        <div class="font-bold ${getScoreColor(state.scores.security)}">${state.scores.security}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üîí</span>
                                        <div class="text-xs text-gray-600">Privacidad</div>
                                        <div class="font-bold ${getScoreColor(state.scores.privacy)}">${state.scores.privacy}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üèÜ</span>
                                        <div class="text-xs text-gray-600">Reputaci√≥n</div>
                                        <div class="font-bold ${getScoreColor(state.scores.reputation)}">${state.scores.reputation}%</div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xl">üë•</span>
                                        <div class="text-xs text-gray-600">Relaciones</div>
                                        <div class="font-bold ${getScoreColor(state.scores.relationships)}">${state.scores.relationships}%</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Feedback -->
                            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                                <div class="text-center mb-6">
                                    <div class="text-8xl mb-4">${lastChoice.meme}</div>
                                    <h2 class="text-3xl font-bold text-gray-800 mb-4">
                                        Consecuencia de tu decisi√≥n
                                    </h2>
                                </div>

                                <div class="bg-gray-50 rounded-xl p-6 mb-6">
                                    <p class="text-lg text-gray-700 leading-relaxed">
                                        ${lastChoice.feedback}
                                    </p>
                                </div>

                                <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                                    <div class="bg-blue-50 p-3 rounded-lg text-center">
                                        <span class="text-2xl">üõ°Ô∏è</span>
                                        <div class="text-xs text-gray-600">Seguridad</div>
                                        <div class="text-xl font-bold ${getScoreColor(state.scores.security)}">
                                            ${state.scores.security}%
                                        </div>
                                    </div>
                                    <div class="bg-purple-50 p-3 rounded-lg text-center">
                                        <span class="text-2xl">üîí</span>
                                        <div class="text-xs text-gray-600">Privacidad</div>
                                        <div class="text-xl font-bold ${getScoreColor(state.scores.privacy)}">
                                            ${state.scores.privacy}%
                                        </div>
                                    </div>
                                    <div class="bg-green-50 p-3 rounded-lg text-center">
                                        <span class="text-2xl">üèÜ</span>
                                        <div class="text-xs text-gray-600">Reputaci√≥n</div>
                                        <div class="text-xl font-bold ${getScoreColor(state.scores.reputation)}">
                                            ${state.scores.reputation}%
                                        </div>
                                    </div>
                                    <div class="bg-pink-50 p-3 rounded-lg text-center">
                                        <span class="text-2xl">üë•</span>
                                        <div class="text-xs text-gray-600">Relaciones</div>
                                        <div class="text-xl font-bold ${getScoreColor(state.scores.relationships)}">
                                            ${state.scores.relationships}%
                                        </div>
                                    </div>
                                </div>

                                <button
                                    onclick="handleContinue()"
                                    class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all flex items-center justify-center gap-2">
                                    ${state.currentScene < scenarios.length - 1 ? 
                                        'Siguiente Escenario ‚û°Ô∏è' : 
                                        'Ver Resultados Finales üèÜ'}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Iniciar el juego
        render();

        // Hacer las funciones globales para que funcionen los onclick
        window.handleChoice = handleChoice;
        window.handleContinue = handleContinue;
        window.resetGame = resetGame;
        window.shareResults = shareResults;
    </script>
</body>
</html>
